services:
  # Daily video generation cron job (runs script directly, no server needed)
  - type: cron
    name: daily-video-generator
    runtime: python
    region: oregon
    buildCommand: pip install -r requirements.txt
    startCommand: python scripts/generate_video.py --from-email --upload
    schedule: "30 7 * * *"  # 7:30 AM UTC = 11:30 PM PST
    envVars:
      # OpenAI
      - key: OPENAI_API_KEY
        sync: false
      # Gmail OAuth
      - key: GMAIL_CLIENT_ID
        sync: false
      - key: GMAIL_CLIENT_SECRET
        sync: false
      - key: GMAIL_REFRESH_TOKEN
        sync: false
      # YouTube OAuth
      - key: YOUTUBE_CLIENT_ID
        sync: false
      - key: YOUTUBE_CLIENT_SECRET
        sync: false
      - key: YOUTUBE_REFRESH_TOKEN
        sync: false
      # Langfuse (for prompts)
      - key: LANGFUSE_PUBLIC_KEY
        sync: false
      - key: LANGFUSE_SECRET_KEY
        sync: false
      - key: LANGFUSE_HOST
        sync: false
